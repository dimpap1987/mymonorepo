<p-toolbar>
  <div class="p-toolbar-group-left">
    <div class="navigation-logo">
      <a routerLink="/">
        <em title="Home" class="pi pi-home"></em>
      </a>
    </div>
    <div class="navigation-list">
      <a routerLink="/browse"> Browse </a>
      <a routerLink="/dashboard" *ngIf="(user$ | async)?.loggedIn"> Dashboard </a>
    </div>
  </div>

  <div class="p-toolbar-group-right right-wrapper">
    <div *ngIf="(user$ | async)?.loggedIn" class="user-details dp-shadow">
      <div class="user-logo-username" #toggleButton (click)="toggleProfileOptions()">
        <div class="user-username">
          <span>{{ (user$ | async)?.username }}</span>
        </div>
        <div *ngIf="(user$ | async)?.picture">
          <img
            crossorigin="anonymous"
            class="user-image"
            [src]="(user$ | async)?.picture"
            alt=""
            referrerpolicy="no-referrer" />
        </div>
      </div>
      <!-- User options dropdown -->
      <div
        #profileOptionsRef
        class="profile-options dp-shadow"
        *ngIf="(user$ | async)?.loggedIn && profileOptionsShow && profileOptionsList?.length">
        <ul>
          <li *ngFor="let item of profileOptionsList">
            <p-button
              *ngIf="item.type !== 'SING_IN'"
              [styleClass]="item.style"
              [icon]="item.icon"
              [label]="item.label"
              (click)="item.clickCallback()">
            </p-button>
          </li>
        </ul>
      </div>
    </div>

    <div class="buttons-wrapper">
      <div *ngIf="!(user$ | async)?.loggedIn">
        <p-button
          styleClass="p-button-text dp-shadow"
          iconPos="left"
          label="Sign in"
          icon="pi pi-sign-in"
          (click)="login()">
        </p-button>
      </div>
    </div>
    <div #barsRef class="menu-bar">
      <em class="pi pi-bars" (click)="sidebarVisible = true"></em>
    </div>
  </div>
</p-toolbar>

<p-sidebar #sideBarRef [(visible)]="sidebarVisible" position="right" [modal]="false" [showCloseIcon]="false">
  <section class="side-bar-items">
    <div>
      <div>
        <a routerLink="/browse"> Browse </a>
      </div>
      <div>
        <a routerLink="/dashboard" *ngIf="(user$ | async)?.loggedIn"> Dashboard </a>
      </div>
    </div>

    <div>
      <hr />
      <ul>
        <li *ngFor="let item of profileOptionsList">
          <a
            *ngIf="(user$ | async)?.loggedIn && (item.type === 'SIGN_OUT' || item.type === 'USER_PROFILE')"
            (click)="item.clickCallback()">
            <em [class]="item.icon"></em> {{ item.label }}
          </a>
          <a *ngIf="!(user$ | async)?.loggedIn && item.type === 'SING_IN'" (click)="item.clickCallback()">
            <em [class]="item.icon"></em> {{ item.label }}
          </a>
        </li>
      </ul>
    </div>
  </section>
</p-sidebar>
